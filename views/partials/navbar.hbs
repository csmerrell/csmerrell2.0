<div id="topnav" class="navbar">
    <div class="nav-row pure-g">
        <div class="pure-u-sm-1-24 auto-hide-sm">
            <!-- Left reserved space -->
        </div>
        <div class="pure-u-1 pure-u-sm-11-12">
            <div class="pure-g">
                <div class="pure-u-1-3 pure-u-xl-1-6">
                    <!-- Brand -->
                    <a href="/">
                        <img src="/static/img/me/csmLogoBlue.png" class="brand blue" />
                        <img src="/static/img/me/csmLogoPink.png" class="brand pink" />
                    </a>
                </div>
                <div class="pure-u-2-3 pure-u-xl-5-6 align-right">
                    <div id="theme-toggler" class="pure-menu-item theme-toggler hidden">
                        <div class="theme-front">Theme:</div>
                        <input class="toggler toggler-main" id="themeToggler" type="checkbox" onclick="themeToggle()" />
                        <label class="toggle-btn" data-tg-off="Dark" data-tg-on="Light" for="themeToggler"></label>
                    </div>
                </div>
            </div>
        </div>
        <div class="pure-u-sm-1-24 auto-hide-sm">
            <!-- Right spacing at large screen sizes -->          
        </div>
    </div>

    <script>
        /* Theme Controls */
        if(window.localStorage['csm_theme'] == 'light') {
            document.documentElement.setAttribute('theme', 'light');
            document.getElementById('themeToggler').checked = true;
        } else {
            document.documentElement.setAttribute('theme', 'dark');
            document.getElementById('themeToggler').checked = false;        
        }

        //Unhide the toggler once the theme is set (prevents the slide animation from happening on page-load for non-default-theme)
        document.getElementById("theme-toggler").classList.remove("hidden");

        function themeToggle() {
            if(document.documentElement.getAttribute('theme') == 'dark') {
                document.documentElement.setAttribute('theme', 'light');
                document.getElementById('themeToggler').checked = true;
                window.localStorage['csm_theme'] = 'light';
            }
            else {
                document.documentElement.setAttribute('theme', 'dark');
                document.getElementById('themeToggler').checked = false;
                window.localStorage['csm_theme'] = 'dark';          
            }
        }
    </script>
</div>

